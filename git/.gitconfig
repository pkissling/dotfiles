[alias]
  # abbreviations
  a = add
  aa = add -A
  ap = add -p
  c = commit
  ca = commit -a
  cane = commit --amend --no-edit
  cam = commit -a -m
  cl = clean --force -d
  co = checkout
  cob = checkout -b
  cm = commit -m
  d = diff
  ds = diff --staged
  hist = log --pretty=format:'%C(dim blue)[%ad]%C(reset) %C(bold normal)[%h]%C(reset) | %C(blue)%s %C(bold normal)[%an]%C(reset) %C(bold normal)%d%C(reset)' --graph --date=short
  last = log -1 HEAD --stat
  m = master
  p = push
  pfwl = push --force-with-lease
  pl = pull
  psu = push-set-upstream
  r = reset
  rb = rebase
  rbm = rebase-master
  rbi = rebase-interactive
  s = status
  ss = status -sb

  # scripts
  cleanup =  "!git fetch -p > /dev/null && for BRANCH in `git branch -vv | grep --invert-match '^*' | grep ': gone' | awk '{print $1}'`; do git branch -D ${BRANCH}; done"
  rebase-master = "!git fetch -p && git rebase --autostash origin/master"
  rebase-interactive = "!git rebase --autostash -i $(git log -n 1 origin/master --pretty=format:'%h')"
  master = "!git checkout master && git pull && git cleanup"
  push-set-upstream = "!git push --set-upstream origin $(git symbolic-ref --short HEAD)"

[commit]
  gpgsign = true

[core]
  pager = delta --dark
  excludesfile = ~/.gitignore

[credential]
  helper = /usr/local/share/gcm-core/git-credential-manager-core

[credential "https://dev.azure.com"]
  useHttpPath = true

[delta]
  features = side-by-side line-numbers

[diff]
  colorMoved = default
  tool = idea

[difftool "idea"]
  cmd = idea diff \"$LOCAL\" \"$REMOTE\"

[include]
  # user details
  path = ~/.gitconfig_user

[interactive]
  diffFilter = delta --color-only --dark

[merge]
  tool = idea

[mergetool]
  keepBackup = false

[mergetool "idea"]
  cmd = idea merge \"$LOCAL\" \"$REMOTE\" \"$BASE\" \"$MERGED\"
  trustExitCode = true

[pull]
  rebase = true
  autoStash = true
